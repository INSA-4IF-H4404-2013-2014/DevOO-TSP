title Add Sequence

note over Superviseur
    one node already 
    been selected
end note

Superviseur->+ ":MainWindow": clic on "ajouter" button
":MainWindow" ->+ ":AddController": actionPerformed(ActionEvent e)

":AddController"->+ ":DeliveryWindow" : new()

loop informations ok or annulation
":DeliveryWindow" -> Superviseur : ask client id, schedulerEarliestBound, schedulerLatestBound
	opt ok
		Superviseur -> ":DeliveryWindow" : clic on "valider" button
		":DeliveryWindow" ->+ ":DeliveryValidateController" : actionPerformed(ActionEvent e)
		":DeliveryValidateController" ->+ ":Round" : getClient(int id)
		":Round" -->- ":DeliveryValidateController": client
		
		":DeliveryValidateController" ->+ ":Delivery" : new(id, earlier, latest)
			":Delivery" ->+ ":Client" : addDelivery(this)
			":Client" -->- ":Delivery" :
			":Delivery" ->+ ":Schedule" : addDelivery(this)
			":Schedule" -->- ":Delivery" :
				
		":Delivery" -->- ":DeliveryValidateController" : deliv
		":DeliveryValidateController" ->+ ":AddDelivery" : new(MainWindowController controller, Delivery deliv)
		":AddDelivery" -->- ":DeliveryValidateController" :
		":DeliveryValidateController" ->+ ":AddDelivery" : apply()
		":AddDelivery" -->- ":DeliveryValidateController" :
		":DeliveryValidateController" -->- ":DeliveryWindow" : 	
	else undo
		Superviseur -> ":DeliveryWindow" : clic on "annuler" button
		":DeliveryWindow" ->+ ":DeliveryUndoController" : actionPerformed(ActionEvent e)
		":DeliveryUndoController" -->- ":DeliveryWindow" : 
	end
end
":DeliveryWindow" -->- ":AddController" : 
destroy ":DeliveryWindow"
":AddController" -->- ":MainWindow" :
":MainWindow" -->- ":Superviseur" : repaint

